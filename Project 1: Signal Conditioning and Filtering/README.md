# Project 1: Signal Conditioning and Filtering

**ECE118 - Introduction to Mechatronics**  
**University of California, Santa Cruz**  
**Spring 2024**  

## 📌 Overview

Project 1 focuses on signal conditioning and filtering techniques using operational amplifiers (op-amps) and comparators.  The project involves designing and implementing two distinct circuits: a track wire detector and an infrared beacon detector.  These circuits demonstrate practical applications of analog circuit design for signal processing.  The track wire detector senses the magnetic field of a current-carrying wire, while the beacon detector selectively detects a 2kHz infrared signal.

### 🔹 Objectives:

- Design and implement a **track wire detector** to sense the presence of a current-carrying wire.
- Design and implement an **infrared beacon detector** to selectively detect a 2kHz signal.
- Utilize **operational amplifiers (op-amps)** for signal amplification and filtering.
- Employ **comparators** for signal thresholding and digital conversion.
- Gain practical experience with **circuit prototyping and debugging**.

## ⚙️ Technologies & Components

- **Components:** Operational amplifiers (op-amps), comparators, resistors, capacitors, inductors, infrared phototransistor, LEDs.
- **Tools:** Oscilloscope, breadboard, multimeter.
- **Software:** (Potentially MATLAB for filter design calculations)

## 📂 Project Structure
```plaintext
📦 ECE118_Project1
 ┣ 📜 README.md      # Lab documentation
 ┣ 📂 schematics   # Circuit diagrams in PDF format
 ┣ 📂 code         # MATLAB scripts for filter design (if applicable)
 ┣ 📂 reports       # Lab report in PDF format
 ┗ 📂 datasheets   # Datasheets for key components
```
## 🚀 Lab Sections

### 1️⃣ Track Wire Detector

  - **Sensing Stage:** Utilized an inductor (solenoid) to detect the magnetic field generated by current in the track wire.
  - **Tank Circuit Stage:** A parallel LC circuit (tank circuit) is used to resonate with the frequency of the magnetic field.
  - **Split Rail Buffer:** A split rail buffer provides a stable voltage reference (e.g., +/- 5V) for the op-amps.
  - **Amplification Stage:** Employed an op-amp in a non-inverting configuration to amplify the induced signal.  Included a DC offset (e.g., 1.65V) to prevent clipping that would otherwise be caused by powering the op-amps in this circuit with a single rail supply.
  - **Peak Detector:** Used a peak detector circuit to capture the maximum amplitude of the amplified signal.
  - **Comparator Stage:** Implemented a comparator with hysteresis to provide a clean digital output indicating the presence of the track wire.
  - **Output Stage:** Used an LED and buffer to visually indicate detection.

### 2️⃣ Infrared Beacon Detector

  - **Phototransistor Stage:** Utilized an infrared phototransistor to sense the infrared beacon signal.
  - **Transresistive Amplifier:** Converted the current from the phototransistor into a voltage signal.  This stage is crucial for converting the current signal from the phototransistor into a voltage that can be further processed by the op-amps.
  - **Amplification Stage:** Amplified the signal using an op-amp.
  - **Bandpass Filter Stage:** Designed and implemented a bandpass filter centered at 2kHz to selectively detect the beacon signal while rejecting noise and other frequencies (e.g., 1.5kHz and 2.5kHz).  This is a key part of the beacon detector, as it isolates the desired 2kHz signal from ambient noise and other IR sources.
  - **Comparator Stage:** Used a comparator with hysteresis to generate a digital output.

## 🎯 Key Challenges & Solutions
- **Track Wire Detector:**
    - **Challenge:** Detecting a weak signal from the inductor.
    - **Solution:** Careful component selection, proper shielding, and optimized amplification.
- **Infrared Beacon Detector:**
  - **Challenge:** Filtering out unwanted frequencies and ambient light.
  - **Solution:** Precise bandpass filter design, potentially using multiple op-amp stages, and possibly mechanical shielding.  The report mentions daytime interference from ambient light, suggesting mechanical shielding as a solution.
  - **Challenge:** Setting appropriate thresholds for the comparator.
  - **Solution:** Using a peak detector to determine signal amplitude and then using that information to calculate appropriate resistor values for the comparator's hysteresis.  The report mentions using a MATLAB script for this calculation.

## 🛠 Team

  - **Aleida Diaz-Roque**
  - **Teresa Begley**


